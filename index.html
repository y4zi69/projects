<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Rock-Paper-Scissors</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poltawski+Nowy&display=swap" rel="stylesheet">
    
</head>
<body>
    <header>

        <h1>ROCK-PAPER-SCISSORS</h1>

    </header>
   
    <div class="emoji">

        <button class="btn" onclick="playGame('rock')"><img  class="for-mobile" src="images/rock.png" alt=""></button>
        <button class="btn" onclick="playGame('paper')"><img class="for-mobile" src="images/paper.png" alt=""></button>
        <button class="btn" onclick="playGame('scissors')"><img class="for-mobile" src="images/scissors.png" alt=""></button>

    </div>
    <div class="result-section">
        <h2 class="result"></h2>
    </div>
    <div class="move">
        <p class="moves"></p>
    </div>
    <div class="winLogsec">
        <p class="winLog"></p>
    </div>
    <div class="reset">
        <button class="reset-btn" onclick="clearfn()">Clear Win Log</button>
    </div>
    <footer>
        <h6>yazi</h6>
    </footer>
   




    <script>
        winLog = JSON.parse(localStorage.getItem('score')) || {
                Wins:0,
                Losses:0,
                Ties:0
            }
            display()
        
        function playGame(playerPick){
            const compVal = computerValue()

            let result = ''

            if(playerPick === 'rock'){
                if(compVal === 'rock'){
                result = 'Tie'
                }
                else if(compVal === 'paper'){
                    result = 'You lose'
                }
                else if (compVal === 'scissors'){
                    result = 'You win'
                }


            }else if(playerPick === 'paper'){
                if(compVal === 'rock'){
                    result = 'You win'      
                }
                else if(compVal === 'paper'){
                    result = 'Tie'
                }
                else if (compVal === 'scissors'){
                    result = 'You lose'
                }


            }else if(playerPick === 'scissors'){
                if(compVal === 'rock'){
                    result = 'You lose'

                }else if(compVal === 'paper'){
                    result = 'You win'

                }else if(compVal === 'scissors'){
                    result = 'Tie'
                }
            }
            if (result === 'You win'){
                winLog.Wins += 1
            }else if(result === 'You lose'){
                winLog.Losses += 1
            }else if(result === 'Tie'){
                winLog.Ties +=1
            }
            localStorage.setItem('score',JSON.stringify(winLog))

            
            display()
            document.querySelector('.result').innerHTML = result
            document.querySelector('.moves').innerHTML = 
            `You : <img  class="for-mobile" src="images/${playerPick}.png" alt=""> Computer : <img  class="for-mobile" src="images/${compVal}.png" alt=""> `

        }
        
        function computerValue(){
            const num = Math.random()
            let compVal = ''
            if(num > 0 && num < 1/3){
               compVal = 'rock'
            }
            else if(num >1/3 && num < 2/3){
                compVal = 'paper'
            }
            else {
                compVal = 'scissors'
            }
            return compVal;
        }   

        function clearfn(){

            winLog.Wins = 0;
            winLog.Losses = 0;
            winLog.Ties = 0
            
            localStorage.removeItem('score')
            display ()
            document.querySelector('.moves').innerHTML = ''
            document.querySelector('.result').innerHTML = ''

        }
        function display(){

             document.querySelector('.winLog').innerHTML = `Win Log : Wins: ${winLog.Wins} , Losses: ${winLog.Losses} , Ties: ${winLog.Ties}`

            

        }
    </script>
</body>
</html>